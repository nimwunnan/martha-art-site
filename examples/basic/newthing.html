<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="utf-8"> 
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=500" />
	<meta name="keywords" content="ScrollMagic, example, scrolling, attaching, scrollbar, anchor, link, in-page, navigation, hash" />
	<meta name="author"	content="Jan Paepke (www.janpaepke.de)" />
	<title>Section Wipes (natural) - Examples - ScrollMagic</title>

	<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic|Josefin+Slab:400,700italic' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="../../assets/css/normalize.css" type="text/css">
	<link rel="stylesheet" href="../../assets/css/style.css" type="text/css">
	<link rel="stylesheet" href="../../assets/css/examples.css" type="text/css">
	<link rel="shortcut icon" href="../../assets/img/favicon.ico" type="image/x-icon">

	<script type="text/javascript" src="../../assets/js/lib/jquery.min.js"></script>
	<script type="text/javascript" src="../../assets/js/lib/highlight.pack.js"></script>
	<script type="text/javascript" src="../../assets/js/lib/modernizr.custom.min.js"></script>
	
	<script type="text/javascript" src="../../assets/js/lib/gsap3/gsap.min.js"></script>
	<script type="text/javascript" src="../../scrollmagic/uncompressed/ScrollMagic.js"></script>
	<script type="text/javascript" src="../../scrollmagic/uncompressed/plugins/animation.gsap.js"></script>
	<script type="text/javascript" src="../../scrollmagic/uncompressed/plugins/debug.addIndicators.js"></script>
	<style type="text/css">
		.panel {
			height: 100%;
			width: 100%;
		}
		#sidescroll {
			height: 100%;
			width: 100%;
		}
		.panel.green {
			margin-bottom: 400px
		}


		.horiz_panel {
			height: 85vh;
			width: 45vw;
			display: inline-block;
			position: relative;
			border-radius: 8px;
			border: 0px solid black;
			vertical-align: middle;
			padding: 0 5px;
			opacity: 0;
			background-color: white;
			margin-left: -27vw;
			margin-top: 5vh;
			transform: rotate(180deg);
		}
		.viz {
			opacity: 1 !important;
		}
	</style>
</head>
<body style="background-image: url(../../images/bg.jpg); background-repeat: no-repeat; background-attachment: fixed;">
	<ul id="menu"></ul>
	<div id="content-wrapper">
		<div id="example-wrapper">
			<div class="scrollContent">
				<section id="sidescroll" style="background-image: url(../../images/bg2.jpg); background-repeat: no-repeat; background-attachment: fixed;">
					<div id="container2" class="scrollContainer horizontal" style="width: 95vw; height: 95vh;">
						<section class="demo">
							<div class="spacer s0 horiz_trigger"></div>
							<div class="disablePointerEvents horiz_panel">
								<p>Scroll to the right</p>
							</div>
							<div class="spacer s8"></div>
							<div class="spacer s0 horiz_trigger "></div>
							<div class="disablePointerEvents horiz_panel">
								<p>Number 2</p>
							</div>
							<div class="spacer s8"></div>
							<div class="spacer s0 horiz_trigger"></div>
							<div class="disablePointerEvents horiz_panel">
								<p>Number 3 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi aliquam laoreet metus, id elementum tellus vulputate et. Mauris eros est, pulvinar vitae condimentum ac, laoreet tincidunt sem. Proin vel lacus mattis libero varius iaculis. Morbi rutrum porta tristique.</p>
							</div>
							<div class="spacer s8"></div>
							<div class="spacer s0 horiz_trigger "></div>
							<div class="disablePointerEvents horiz_panel">
								<p>Number 4</p>
							</div>
							<div class="spacer s0 horiz_trigger"></div>
							<div class="disablePointerEvents horiz_panel"x>
								<p>You are done now scroll down</p>
								<a id="closer">click to proceed</a>
							</div>
							<div class="spacer s8"></div>

						</section>
						</div>
				</section>
				<section id="intermission" style="height: 100vh; background-color: aqua;">Spacer section</section>
				<section class="demo" id="section-wipes"">
					


					<section class="panel transparent">
						<b>ONE</b>
					</section>
					<section class="panel transparent">
						<div style="background-color: bisque; width: 500px; height: 500px;">a thing</div>
						<b>TWO</b>
					</section>
					<section class="panel red">
						<b>THREE</b>
					</section>
					<section class="panel transparent">
						<b>FOUR</b>
					</section>
					

					<script>
						$(function () { // wait for document ready

							$("#closer").on("click", function(){ 
								// $("#sidescroll").hide();
								$(window).scrollTop($('#intermission').offset().top).scrollLeft($('#intermission').offset().left);
							});
							// init
							var controller = new ScrollMagic.Controller({
								globalSceneOptions: {
									triggerHook: 'onLeave',
									duration: "100%" // this works just fine with duration 0 as well
									// However with large numbers (>20) of pinned sections display errors can occur so every section should be unpinned once it's covered by the next section.
									// Normally 100% would work for this, but here 200% is used, as Panel 3 is shown for more than 100% of scrollheight due to the pause.
								}
							});

							// get all slides
							var slides = document.querySelectorAll("section.panel");

							// create scene for every slide
							for (var i=0; i<slides.length; i++) {
								new ScrollMagic.Scene({
										triggerElement: slides[i]
									})
									.setPin(slides[i], {pushFollowers: true})
									.addIndicators() // add indicators (requires plugin)
									.addTo(controller);
							}

							
							var controller2 = new ScrollMagic.Controller({container: "#container2", vertical: false});

							// build scene
							// var scene2 = new ScrollMagic.Scene({triggerElement: "#trigger2", duration: 300})
							// 	.addTo(controller2)
							// 	.addIndicators() // add indicators (requires plugin)
							// 	.setTween(TweenMax.to("#container2 .animated", 0.5, {backgroundColor: "green"}))
							// 	.setPin("#container2 .animated");
//////////
							var horiz_slides = document.querySelectorAll("div.horiz_panel");
							var horiz_triggers = document.querySelectorAll("div.horiz_trigger");
							
							// create scene for every slide
							for (var i=0; i<horiz_slides.length; i++) {

								new ScrollMagic.Scene({
										triggerElement: horiz_triggers[i]
									})
									// .setTween(TweenMax.to(horiz_slides[i], 0.5, {left: 1}))
									.setTween(TweenMax.to(horiz_slides[i], 0.5, {rotation: 360, ease: Linear.easeNone}))
									// .setClassToggle(".horiz_panel", "viz") // add class toggle
									.setClassToggle(horiz_slides[i], "viz") // add class toggle

									.setPin(horiz_slides[i])
									.addIndicators() // add indicators (requires plugin)
									.addTo(controller2);
							}
						
						});
					</script>				
			</section>
			</div>
		</div>
	</div>
</body>
</html>
